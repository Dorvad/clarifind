(() => {
  const i18n = {
    en: {
      "brand.tag": "Learning Solutions",
      "nav.services": "Services",
      "nav.process": "Process",
      "nav.work": "Use Cases",
      "nav.about": "About",
      "nav.contact": "Talk to me",
      "toggle.dark": "Dark mode",
      "toggle.light": "Light mode",
      "hero.pill": "Learning Design â€¢ Content â€¢ AI Enablement",
      "hero.title": "Donâ€™t start with a format.<br/>Start with the learning goal.",
      "hero.lead":
        "Clarifind helps you choose and build the right learning solutionâ€”videos, eLearning, courses, workshops, mini-sites, or AI agentsâ€”so people actually understand and use it.",
      "hero.ctaPrimary": "Book a short intro call",
      "hero.ctaSecondary": "See services",
      "hero.trust.one.title": "UX-driven",
      "hero.trust.one.text": "Designed for frictionless learning",
      "hero.trust.two.title": "Goal-first",
      "hero.trust.two.text": "Format chosen based on outcomes",
      "hero.trust.three.title": "Fast & sharp",
      "hero.trust.three.text": "Clean deliverables, minimal noise",
      "hero.visual.card1.label": "Clarity Score",
      "hero.visual.card1.meta": "Learner comprehension lift",
      "hero.visual.card2.label": "Engagement",
      "hero.visual.card2.meta": "Completion in 30 days",
      "hero.visual.card3.label": "Delivery",
      "hero.visual.card3.value": "4 weeks",
      "hero.visual.card3.meta": "From discovery to launch",
      "problem.title": "Most content exists. It just doesnâ€™t work.",
      "problem.lead":
        "Most teams already have the contentâ€”docs, decks, knowledge bases. The real gap is clarity and structure, so learners feel confident and not overwhelmed.",
      "problem.one.title": "Format-first thinking",
      "problem.one.text": "â€œWe need a courseâ€ becomes the solution before the problem is defined.",
      "problem.two.title": "Cognitive overload",
      "problem.two.text": "Too much information, not enough signalâ€”learners drop off.",
      "problem.three.title": "Low adoption",
      "problem.three.text": "Even high-quality materials fail when they donâ€™t match reality.",
      "services.title": "Services",
      "services.lead":
        "We pick the format based on your goal, your audience, and real-world context. The format is a toolâ€”not the outcome.",
      "services.one.title": "ğŸ¥ Learning Videos",
      "services.one.text": "Short, clear explainers for onboarding, processes, or key concepts.",
      "services.one.list.one": "Script & narrative structure",
      "services.one.list.two": "Storyboard guidance",
      "services.one.list.three": "Production-ready copy + visuals direction",
      "services.two.title": "ğŸ’» eLearning & Interactive Modules",
      "services.two.text": "Self-paced learning with practice, feedback, and clear progression.",
      "services.two.list.one": "Module architecture",
      "services.two.list.two": "UX-first learning flow",
      "services.two.list.three": "Assessments & micro-activities",
      "services.three.title": "ğŸ“š Courses (online / hybrid)",
      "services.three.text": "Structured learning journeys for skills and deeper capability-building.",
      "services.three.list.one": "Curriculum design",
      "services.three.list.two": "Sequencing & pacing",
      "services.three.list.three": "Retention & reinforcement",
      "services.four.title": "ğŸ§‘â€ğŸ« Workshops & Live Training",
      "services.four.text": "Facilitated sessions that create insight, practice, and behavior change.",
      "services.four.list.one": "Facilitation plan",
      "services.four.list.two": "Exercises & group flow",
      "services.four.list.three": "Trainer notes + participant handouts",
      "services.five.title": "ğŸŒ Mini-sites & Knowledge Hubs",
      "services.five.text": "Organized, navigable content for multiple audiences and needs.",
      "services.five.list.one": "Information architecture",
      "services.five.list.two": "Content structure & navigation",
      "services.five.list.three": "Mobile-first clarity",
      "services.six.title": "ğŸ¤– AI Agents for Learning & Support",
      "services.six.text": "Goal-driven agents for practice, guidance, and on-demand knowledge access.",
      "services.six.list.one": "Use-case design",
      "services.six.list.two": "Conversation & safety boundaries",
      "services.six.list.three": "Knowledge scaffolding & prompts",
      "process.title": "How it works",
      "process.lead": "A simple, focused process built around outcomes and practical deliverables.",
      "process.one.title": "1) Clarify the goal",
      "process.one.text": "Define outcomes, audience, constraints, and success signals.",
      "process.two.title": "2) Choose the right format",
      "process.two.text": "Video? eLearning? Workshop? Hub? AI agent? We pick what fits reality.",
      "process.three.title": "3) Build the content",
      "process.three.text": "Structure, narrative, UX, activitiesâ€”developed with clarity and precision.",
      "process.four.title": "4) Refine until it works",
      "process.four.text": "Iterate based on feedback and practical usability.",
      "work.title": "Common use cases",
      "work.lead": "Examples of when Clarifind is a strong fit.",
      "work.one.title": "Onboarding & role readiness",
      "work.one.text": "Reduce ramp-up time with clear, structured trainingâ€”without overwhelming new hires.",
      "work.two.title": "Knowledge thatâ€™s â€œstuckâ€ in experts",
      "work.two.text": "Turn tacit know-how into usable learning artifacts that others can actually apply.",
      "work.three.title": "Process & compliance training",
      "work.three.text": "Create practical learning and reinforcement that people will follow in real workflows.",
      "work.four.title": "Scaling facilitation with AI",
      "work.four.text": "Use agents for practice, Q&A and guidanceâ€”designed responsibly and goal-first.",
      "about.title": "About",
      "about.lead":
        "I design learning experiences at the intersection of <strong>content</strong>, <strong>UX</strong>, and <strong>human understanding</strong>. I turn complex knowledge into clear, usable learning people can apply right away.",
      "about.sub": "Based in Israel â€¢ Working with organizations, NGOs, educators, and teams.",
      "about.stat.one.label": "Strength",
      "about.stat.one.value": "Clarity & structure",
      "about.stat.two.label": "Approach",
      "about.stat.two.value": "Goal-first learning design",
      "about.stat.three.label": "Deliverables",
      "about.stat.three.value": "Defined scope, production-ready",
      "contact.title": "Letâ€™s clarify what you need",
      "contact.lead":
        "If your knowledge isnâ€™t landing, letâ€™s talk. Weâ€™ll clarify the goal and pick the best format to deliver it.",
      "contact.pricing":
        "Pricing is discounted for small businesses, non-profits, and reserve veteransâ€™ businesses.",
      "contact.tag.one": "Onboarding",
      "contact.tag.two": "Workshops",
      "contact.tag.three": "eLearning",
      "contact.tag.four": "Mini-sites",
      "contact.tag.five": "AI agents",
      "contact.note":
        "Prefer email? <a href=\"mailto:hello@clarifind.com\">hello@clarifind.com</a> (replace with your real email)",
      "form.name.label": "Name",
      "form.name.placeholder": "Your name",
      "form.email.label": "Email",
      "form.email.placeholder": "name@company.com",
      "form.message.label": "What do you need help with?",
      "form.message.placeholder": "A short description of your content / audience / goal",
      "form.submit": "Send",
      "form.hint":
        "This demo form doesnâ€™t send yet. I can help you connect it to Formspree or Netlify.",
      "form.alert":
        "Thanks! This is a demo form. To make it send, connect Formspree or Netlify Forms.",
      "footer.rights": "Â© <span id=\"year\"></span> Clarifind. All rights reserved."
    },
    he: {
      "brand.tag": "×¤×ª×¨×•× ×•×ª ×œ××™×“×”",
      "nav.services": "×©×™×¨×•×ª×™×",
      "nav.process": "×ª×”×œ×™×š",
      "nav.work": "××§×¨×™ ×©×™××•×©",
      "nav.about": "××•×“×•×ª",
      "nav.contact": "×“×‘×¨×• ××™×ª×™",
      "toggle.dark": "××¦×‘ ×›×”×”",
      "toggle.light": "××¦×‘ ×‘×”×™×¨",
      "hero.pill": "×¢×™×¦×•×‘ ×œ××™×“×” â€¢ ×ª×•×›×Ÿ â€¢ ×™×›×•×œ×•×ª AI",
      "hero.title": "××œ ×ª×ª×—×™×œ×• ×‘×¤×•×¨××˜.<br/>×”×ª×—×™×œ×• ×‘××˜×¨×ª ×”×œ××™×“×”.",
      "hero.lead":
        "×§×œ×¨×™×¤×™×™× ×“ ×¢×•×–×¨ ×œ×‘×—×•×¨ ×•×œ×‘× ×•×ª ××ª ×¤×ª×¨×•×Ÿ ×”×œ××™×“×” ×”× ×›×•×Ÿâ€”×¡×¨×˜×•× ×™×, eLearning, ×§×•×¨×¡×™×, ×¡×“× ××•×ª, ××™× ×™-××ª×¨×™× ××• ×¡×•×›× ×™ AIâ€”×›×“×™ ×©×× ×©×™× ×™×‘×™× ×• ×•×™×™×©××•.",
      "hero.ctaPrimary": "×œ×ª×× ×©×™×—×ª ×”×™×›×¨×•×ª ×§×¦×¨×”",
      "hero.ctaSecondary": "×œ×¦×¤×™×™×” ×‘×©×™×¨×•×ª×™×",
      "hero.trust.one.title": "××•× ×¢ UX",
      "hero.trust.one.text": "×ª×•×›× ×Ÿ ×œ×œ××™×“×” ×œ×œ× ×—×™×›×•×š",
      "hero.trust.two.title": "××˜×¨×” ×§×•×“×",
      "hero.trust.two.text": "×”×¤×•×¨××˜ × ×‘×—×¨ ×œ×¤×™ ×”×ª×•×¦××”",
      "hero.trust.three.title": "×—×“ ×•××”×™×¨",
      "hero.trust.three.text": "×ª×•×¦×¨×™× × ×§×™×™×, ×‘×œ×™ ×¨×¢×©",
      "hero.visual.card1.label": "×¦×™×•×Ÿ ×‘×”×™×¨×•×ª",
      "hero.visual.card1.meta": "×©×™×¤×•×¨ ×‘×”×‘× ×” ××¦×œ ×œ×•××“×™×",
      "hero.visual.card2.label": "××¢×•×¨×‘×•×ª",
      "hero.visual.card2.meta": "×”×©×œ××” ×‘×ª×•×š 30 ×™×•×",
      "hero.visual.card3.label": "××¡×¤×§×”",
      "hero.visual.card3.value": "4 ×©×‘×•×¢×•×ª",
      "hero.visual.card3.meta": "××”×’×“×¨×” ×œ×”×©×§×”",
      "problem.title": "×¨×•×‘ ×”×ª×•×›×Ÿ ×›×‘×¨ ×§×™×™×. ×”×•× ×¤×©×•×˜ ×œ× ×¢×•×‘×“.",
      "problem.lead":
        "×‘×¨×•×‘ ×”××¨×’×•× ×™× ×›×‘×¨ ×™×© ×ª×•×›×Ÿâ€”××¡××›×™×, ××¦×’×•×ª ×•×××’×¨×™ ×™×“×¢. ×”×¤×¢×¨ ×”×•× ×‘×”×™×¨×•×ª ×•××‘× ×”, ×›×“×™ ×©×”×œ×•××“×™× ×™×¨×’×™×©×• ×‘×˜×•×—×™× ×•×œ× ××•×¦×¤×™×.",
      "problem.one.title": "×—×©×™×‘×” ×©××ª×—×™×œ×” ×‘×¤×•×¨××˜",
      "problem.one.text": "\"×¦×¨×™×š ×§×•×¨×¡\" ×”×•×¤×š ×œ×¤×ª×¨×•×Ÿ ×¢×•×“ ×œ×¤× ×™ ×©×”×‘×¢×™×” ×”×•×’×“×¨×”.",
      "problem.two.title": "×¢×•××¡ ×§×•×’× ×™×˜×™×‘×™",
      "problem.two.text": "×™×•×ª×¨ ××“×™ ××™×“×¢ ×•×¤×—×•×ª ××“×™ ××•×ª×•×ªâ€”×”×œ×•××“×™× × ×•×©×¨×™×.",
      "problem.three.title": "××™××•×¥ × ××•×š",
      "problem.three.text": "×’× ×—×•××¨×™× ××™×›×•×ª×™×™× × ×›×©×œ×™× ×›×©×œ× ××•×ª×××™× ×œ××¦×™××•×ª.",
      "services.title": "×©×™×¨×•×ª×™×",
      "services.lead": "×× ×—× ×• ×‘×•×—×¨×™× ××ª ×”×¤×•×¨××˜ ×œ×¤×™ ×”××˜×¨×”, ×”×§×”×œ ×•×”××¦×™××•×ª ×‘×©×˜×—. ×”×¤×•×¨××˜ ×”×•× ×›×œ×™â€”×œ× ×”×ª×•×¦××”.",
      "services.one.title": "ğŸ¥ ×¡×¨×˜×•× ×™ ×œ××™×“×”",
      "services.one.text": "×”×¡×‘×¨×™× ×§×¦×¨×™× ×•×‘×¨×•×¨×™× ×œ×”×˜××¢×”, ×ª×”×œ×™×›×™× ××• ××•×©×’×™× ××¨×›×–×™×™×.",
      "services.one.list.one": "×ª×¡×¨×™×˜ ×•××‘× ×” × ×¨×˜×™×‘×™",
      "services.one.list.two": "×”× ×—×™×™×ª ×¡×˜×•×¨×™×‘×•×¨×“",
      "services.one.list.three": "×˜×§×¡×˜×™× ××•×›× ×™× ×œ×”×¤×§×” ×•×”×›×•×•× ×ª ×•×™×–×•××œ",
      "services.two.title": "ğŸ’» eLearning ×•××•×“×•×œ×™× ××™× ×˜×¨××§×˜×™×‘×™×™×",
      "services.two.text": "×œ××™×“×” ×‘×§×¦×‘ ×¢×¦××™ ×¢× ×ª×¨×’×•×œ, ××©×•×‘ ×•×”×ª×§×“××•×ª ×‘×¨×•×¨×”.",
      "services.two.list.one": "××¨×›×™×˜×§×˜×•×¨×ª ××•×“×•×œ×™×",
      "services.two.list.two": "×–×¨×™××ª ×œ××™×“×” UX-first",
      "services.two.list.three": "×”×¢×¨×›×•×ª ×•×¤×¢×™×œ×•×™×•×ª ×§×¦×¨×•×ª",
      "services.three.title": "ğŸ“š ×§×•×¨×¡×™× (××•× ×œ×™×™×Ÿ / ×”×™×‘×¨×™×“×™)",
      "services.three.text": "××¡×œ×•×œ×™ ×œ××™×“×” ××•×‘× ×™× ×œ×¤×™×ª×•×— ××™×•×× ×•×™×•×ª ×•×¢×•××§.",
      "services.three.list.one": "×¢×™×¦×•×‘ ×¡×™×œ×‘×•×¡",
      "services.three.list.two": "×ª×–××•×Ÿ ×•×§×¦×‘",
      "services.three.list.three": "×©×™××•×¨ ×•×—×™×–×•×§",
      "services.four.title": "ğŸ§‘â€ğŸ« ×¡×“× ××•×ª ×•×”×“×¨×›×•×ª",
      "services.four.text": "××¤×’×©×™× ××•× ×—×™× ×©××™×™×¦×¨×™× ×ª×•×‘× ×”, ×ª×¨×’×•×œ ×•×©×™× ×•×™ ×”×ª× ×”×’×•×ª.",
      "services.four.list.one": "×ª×•×›× ×™×ª ×”× ×—×™×”",
      "services.four.list.two": "×ª×¨×’×™×œ×™× ×•×–×¨×™××ª ×§×‘×•×¦×”",
      "services.four.list.three": "×”×¢×¨×•×ª ×œ×× ×—×” ×•×—×•××¨×™ ××©×ª×ª×¤×™×",
      "services.five.title": "ğŸŒ ××™× ×™-××ª×¨×™× ×•××¨×›×–×™ ×™×“×¢",
      "services.five.text": "×ª×•×›×Ÿ ××¡×•×“×¨ ×•× ×’×™×© ×œ××¡×¤×¨ ×§×”×œ×™× ×•×¦×¨×›×™×.",
      "services.five.list.one": "××¨×›×™×˜×§×˜×•×¨×ª ××™×“×¢",
      "services.five.list.two": "××‘× ×” ×ª×•×›×Ÿ ×•× ×™×•×•×˜",
      "services.five.list.three": "×‘×”×™×¨×•×ª ××•×‘×™×™×œ-×¤×™×¨×¡×˜",
      "services.six.title": "ğŸ¤– ×¡×•×›× ×™ AI ×œ×œ××™×“×” ×•×ª××™×›×”",
      "services.six.text": "×¡×•×›× ×™× ×××•×§×“×™ ××˜×¨×” ×œ×ª×¨×’×•×œ, ×”×“×¨×›×” ×•×’×™×©×” ×œ×™×“×¢ ×‘×–××Ÿ ×××ª.",
      "services.six.list.one": "×¢×™×¦×•×‘ ××§×¨×™ ×©×™××•×©",
      "services.six.list.two": "×©×™×—×•×ª ×•×’×‘×•×œ×•×ª ×‘×˜×™×—×•×ª",
      "services.six.list.three": "×¡×•×œ××•×ª ×™×“×¢ ×•×¤×¨×•××¤×˜×™×",
      "process.title": "××™×š ×–×” ×¢×•×‘×“",
      "process.lead": "×ª×”×œ×™×š ×¤×©×•×˜ ×•×××•×§×“â€”××‘×•×¡×¡ ×ª×•×¦××•×ª ×•×ª×•×¦×¨×™× ×©×™××•×©×™×™×.",
      "process.one.title": "1) ××’×“×™×¨×™× ××ª ×”××˜×¨×”",
      "process.one.text": "×”×’×“×¨×ª ×ª×•×¦××•×ª, ×§×”×œ, ××’×‘×œ×•×ª ×•××“×“×™ ×”×¦×œ×—×”.",
      "process.two.title": "2) ×‘×•×—×¨×™× ××ª ×”×¤×•×¨××˜ ×”× ×›×•×Ÿ",
      "process.two.text": "×•×™×“××•? eLearning? ×¡×“× ×”? Hub? ×¡×•×›×Ÿ AI? ×‘×•×—×¨×™× ××” ×©××ª××™× ×œ××¦×™××•×ª.",
      "process.three.title": "3) ×‘×•× ×™× ××ª ×”×ª×•×›×Ÿ",
      "process.three.text": "××‘× ×”, × ×¨×˜×™×‘, UX ×•×¤×¢×™×œ×•×™×•×ªâ€”×‘×“×™×•×§ ×•×‘×”×™×¨×•×ª.",
      "process.four.title": "4) ××©×¤×¨×™× ×¢×“ ×©×–×” ×¢×•×‘×“",
      "process.four.text": "××™×˜×¨×¦×™×•×ª ×œ×¤×™ ××©×•×‘ ×•×©×™××•×©×™×•×ª ×××™×ª×™×ª.",
      "work.title": "××§×¨×™ ×©×™××•×© × ×¤×•×¦×™×",
      "work.lead": "×“×•×’×××•×ª ×œ××¦×‘×™× ×©×‘×”× Clarifind ××ª××™××” ×‘××™×•×—×“.",
      "work.one.title": "××•× ×‘×•×¨×“×™× ×’ ×•××•×›× ×•×ª ×œ×ª×¤×§×™×“",
      "work.one.text": "×¦××¦×•× ×–××Ÿ ×”×”×¡×ª×’×œ×•×ª ×¢× ×”×›×©×¨×” ×‘×¨×•×¨×” ×•××•×‘× ×™×ªâ€”×‘×œ×™ ×œ×”×¦×™×£ ×¢×•×‘×“×™× ×—×“×©×™×.",
      "work.two.title": "×™×“×¢ ×©× ×ª×§×¢ ××¦×œ ××•××—×™×",
      "work.two.text": "×”×¤×™×›×ª ×™×“×¢ ×¡××•×™ ×œ×ª×•×¦×¨×™× ×©××¤×©×¨ ×œ×™×™×©× ×‘×××ª.",
      "work.three.title": "×”×“×¨×›×•×ª ×ª×”×œ×™×š ×•×¦×™×•×ª",
      "work.three.text": "×œ××™×“×” ××¢×©×™×ª ×•×—×™×–×•×§ ×©×™×™×©××• ×‘×ª×”×œ×™×›×™ ×¢×‘×•×“×”.",
      "work.four.title": "×”×¨×—×‘×ª ×”× ×—×™×” ×¢× AI",
      "work.four.text": "×¡×•×›× ×™× ×œ×ª×¨×’×•×œ, ×©××œ×•×ª ×•×ª××™×›×”â€”×‘××—×¨×™×•×ª ×•×‘×’×™×©×” ××•× ×—×™×ª ××˜×¨×”.",
      "about.title": "××•×“×•×ª",
      "about.lead":
        "×× ×™ ××¢×¦×‘ ×—×•×•×™×•×ª ×œ××™×“×” ×‘×¦×•××ª ×©×œ <strong>×ª×•×›×Ÿ</strong>, <strong>UX</strong> ×•<strong>×”×‘× ×ª ××“×</strong>. ×× ×™ ×”×•×¤×š ×™×“×¢ ××•×¨×›×‘ ×œ×œ××™×“×” ×‘×¨×•×¨×” ×•×™×©×™××” ×©××¤×©×¨ ×œ×™×™×©× ××™×“.",
      "about.sub": "××‘×•×¡×¡ ×‘×™×©×¨××œ â€¢ ×¢×•×‘×“ ×¢× ××¨×’×•× ×™×, ×¢××•×ª×•×ª, ×× ×©×™ ×—×™× ×•×š ×•×¦×•×•×ª×™×.",
      "about.stat.one.label": "×—×•×–×§×”",
      "about.stat.one.value": "×‘×”×™×¨×•×ª ×•××‘× ×”",
      "about.stat.two.label": "×’×™×©×”",
      "about.stat.two.value": "×¢×™×¦×•×‘ ×œ××™×“×” ××•× ×—×” ××˜×¨×”",
      "about.stat.three.label": "×ª×•×¦×¨×™×",
      "about.stat.three.value": "×”×™×§×£ ××•×’×“×¨, ××•×›×Ÿ ×œ×”×¤×§×”",
      "contact.title": "×‘×•××• × ×‘×”×™×¨ ××” ××ª× ×¦×¨×™×›×™×",
      "contact.lead":
        "×× ×”×™×“×¢ ×©×œ×›× ×œ× × ×§×œ×˜, ×‘×•××• × ×“×‘×¨. × ×’×“×™×¨ ×™×—×“ ××ª ×”××˜×¨×” ×•× ×‘×—×¨ ××ª ×”×¤×•×¨××˜ ×”××ª××™×.",
      "contact.pricing":
        "×”×ª××—×•×¨ ×‘×”× ×—×” ×œ×¢×¡×§×™× ×§×˜× ×™×, ×œ×¢××•×ª×•×ª ×•×œ×¢×¡×§×™× ×©×œ ××©×¨×ª×™ ××™×œ×•××™×.",
      "contact.tag.one": "××•× ×‘×•×¨×“×™× ×’",
      "contact.tag.two": "×¡×“× ××•×ª",
      "contact.tag.three": "eLearning",
      "contact.tag.four": "××™× ×™-××ª×¨×™×",
      "contact.tag.five": "×¡×•×›× ×™ AI",
      "contact.note":
        "××¢×“×™×¤×™× ××™××™×™×œ? <a href=\"mailto:hello@clarifind.com\">hello@clarifind.com</a> (×œ×”×—×œ×™×£ ×‘××™×™×œ ×××™×ª×™)",
      "form.name.label": "×©×",
      "form.name.placeholder": "×”×©× ×©×œ×š",
      "form.email.label": "××™××™×™×œ",
      "form.email.placeholder": "name@company.com",
      "form.message.label": "×‘××” ×ª×¨×¦×• ×¢×–×¨×”?",
      "form.message.placeholder": "×ª×™××•×¨ ×§×¦×¨ ×©×œ ×”×ª×•×›×Ÿ / ×”×§×”×œ / ×”××˜×¨×”",
      "form.submit": "×©×œ×™×—×”",
      "form.hint": "×–×”×• ×˜×•×¤×¡ ×”×“×’××” ×©×œ× ×©×•×œ×— ×¢×“×™×™×Ÿ. ××¤×©×¨ ×œ×—×‘×¨ ×‘×§×œ×•×ª ×œ-Formspree ××• Netlify.",
      "form.alert": "×ª×•×“×”! ×–×”×• ×˜×•×¤×¡ ×”×“×’××”. ×›×“×™ ×œ×©×œ×•×— ×”×•×“×¢×•×ª ××¤×©×¨ ×œ×—×‘×¨ ×œ-Formspree ××• Netlify.",
      "footer.rights": "Â© <span id=\"year\"></span> Clarifind. ×›×œ ×”×–×›×•×™×•×ª ×©××•×¨×•×ª."
    }
  };

  const year = document.getElementById("year");
  const burger = document.getElementById("burger");
  const mobileMenu = document.getElementById("mobileMenu");
  const themeToggle = document.getElementById("themeToggle");
  const themeToggleMobile = document.getElementById("themeToggleMobile");
  const langToggle = document.getElementById("langToggle");
  const langToggleMobile = document.getElementById("langToggleMobile");

  const themeToggles = [themeToggle, themeToggleMobile].filter(Boolean);
  const langToggles = [langToggle, langToggleMobile].filter(Boolean);

  const getPreferredTheme = () => {
    const stored = localStorage.getItem("theme");
    if (stored) return stored;
    return window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
  };

  const getPreferredLang = () => localStorage.getItem("lang") || "en";

  const setToggleLabel = (toggle, text) => {
    const label = toggle.querySelector(".toggle__label");
    if (label) {
      label.textContent = text;
    } else {
      toggle.textContent = text;
    }
  };

  const updateThemeToggleText = (theme, lang) => {
    const key = theme === "dark" ? "toggle.light" : "toggle.dark";
    const text = i18n[lang]?.[key] || i18n.en[key];
    themeToggles.forEach((toggle) => {
      setToggleLabel(toggle, text);
      toggle.setAttribute("aria-pressed", String(theme === "dark"));
    });
  };

  const updateLangToggleText = (lang) => {
    const label = lang === "he" ? "English" : "×¢×‘×¨×™×ª";
    langToggles.forEach((toggle) => {
      setToggleLabel(toggle, label);
      toggle.setAttribute("aria-pressed", String(lang === "he"));
    });
  };

  const applyTranslations = (lang) => {
    document.querySelectorAll("[data-i18n]").forEach((el) => {
      const key = el.getAttribute("data-i18n");
      const value = i18n[lang]?.[key] || i18n.en[key];
      if (value) {
        el.textContent = value;
      }
    });

    document.querySelectorAll("[data-i18n-html]").forEach((el) => {
      const key = el.getAttribute("data-i18n-html");
      const value = i18n[lang]?.[key] || i18n.en[key];
      if (value) {
        el.innerHTML = value;
      }
    });

    document.querySelectorAll("[data-i18n-placeholder]").forEach((el) => {
      const key = el.getAttribute("data-i18n-placeholder");
      const value = i18n[lang]?.[key] || i18n.en[key];
      if (value) {
        el.setAttribute("placeholder", value);
      }
    });

    document.documentElement.lang = lang;
    document.body.setAttribute("data-lang", lang);

    if (year) {
      year.textContent = String(new Date().getFullYear());
    }
  };

  const setTheme = (theme) => {
    document.documentElement.setAttribute("data-theme", theme);
    localStorage.setItem("theme", theme);
    updateThemeToggleText(theme, document.documentElement.lang || "en");
  };

  const setLang = (lang) => {
    localStorage.setItem("lang", lang);
    applyTranslations(lang);
    updateLangToggleText(lang);
    updateThemeToggleText(document.documentElement.getAttribute("data-theme") || "light", lang);
  };

  if (year) year.textContent = String(new Date().getFullYear());

  if (burger && mobileMenu) {
    burger.addEventListener("click", () => {
      const isOpen = burger.getAttribute("aria-expanded") === "true";
      burger.setAttribute("aria-expanded", String(!isOpen));
      mobileMenu.hidden = isOpen;
    });

    mobileMenu.addEventListener("click", (e) => {
      if (e.target && e.target.tagName === "A") {
        burger.setAttribute("aria-expanded", "false");
        mobileMenu.hidden = true;
      }
    });
  }

  themeToggles.forEach((toggle) => {
    toggle.addEventListener("click", () => {
      const current = document.documentElement.getAttribute("data-theme") || "light";
      setTheme(current === "dark" ? "light" : "dark");
    });
  });

  langToggles.forEach((toggle) => {
    toggle.addEventListener("click", () => {
      const current = document.documentElement.lang || "en";
      setLang(current === "he" ? "en" : "he");
    });
  });

  setTheme(getPreferredTheme());
  setLang(getPreferredLang());

  window.clarifindSubmit = (event) => {
    event.preventDefault();
    const lang = document.documentElement.lang || "en";
    const message = i18n[lang]?.["form.alert"] || i18n.en["form.alert"];
    alert(message);
    return false;
  };
})();
